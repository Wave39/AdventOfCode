//
//  Puzzle_2025_04.swift
//  AdventOfCode
//
//  Created by Brian Prescott on 11/28/25.
//  Copyright Â© 2025 Wave 39 LLC. All rights reserved.
//

import Foundation

public class Puzzle_2025_04: PuzzleBaseClass {
    public func solve() {
        let part1 = solvePart1()
        print("Part 1 solution: \(part1)")

        let part2 = solvePart2()
        print("Part 2 solution: \(part2)")
    }

    public func solvePart1() -> Int {
        solvePart1(str: Puzzle_Input.final)
    }

    public func solvePart2() -> Int {
        solvePart2(str: Puzzle_Input.final)
    }

    private func solvePart1(str: String) -> Int {
        var retval = 0
        let grid = str.parseIntoCharacterMatrix()
        let gridRows = grid.count
        let gridColumns = grid[0].count
        for row in 0..<gridRows {
            for col in 0..<gridColumns {
                if grid[row][col] == "@" {
                    let pt = Point2D(x: col, y: row)
                    let neighbors = pt.adjacentLocationsWithinGrid(rows: gridRows, columns: gridColumns, includeDiagonals: true)
                    var rolls = 0
                    for neighbor in neighbors {
                        if grid.characterAtPoint(neighbor) == "@" {
                            rolls += 1
                        }
                    }

                    if rolls < 4 {
                        retval += 1
                    }
                }
            }
        }

        return retval
    }

    private func solvePart2(str: String) -> Int {
        var retval = 0
        var grid = str.parseIntoCharacterMatrix()
        let gridRows = grid.count
        let gridColumns = grid[0].count

        var leaveLoop = false
        while !leaveLoop {
            var removableRolls = [Point2D]()
            for row in 0..<gridRows {
                for col in 0..<gridColumns {
                    if grid[row][col] == "@" {
                        let pt = Point2D(x: col, y: row)
                        let neighbors = pt.adjacentLocationsWithinGrid(rows: gridRows, columns: gridColumns, includeDiagonals: true)
                        var rolls = 0
                        for neighbor in neighbors {
                            if grid.characterAtPoint(neighbor) == "@" {
                                rolls += 1
                            }
                        }

                        if rolls < 4 {
                            removableRolls.append(pt)
                        }
                    }
                }
            }

            if removableRolls.isEmpty {
                leaveLoop = true
            } else {
                retval += removableRolls.count
                for pt in removableRolls {
                    grid.setCharacterAtPoint(pt, ".")
                }
            }
        }

        return retval
    }
}

private class Puzzle_Input: NSObject {
    static let test = """
..@@.@@@@.
@@@.@.@.@@
@@@@@.@.@@
@.@@@@..@.
@@.@@@@.@@
.@@@@@@@.@
.@.@.@.@@@
@.@@@.@@@@
.@@@@@@@@.
@.@.@@@.@.
"""

    static let final = """
@@@.@@@@@@@@@@@@.@.@..@@@@@@@@..@.@.@.@.@.....@@@@.@@@@..@@@@@.@@@.@@.@@@@.@@..@@@.@@@@.@.@@@@@.@@@@@@@@.@...@@@.@.@@@....@@.@@.@.@@@@.@@@.
.@.@@....@.@.@..@..@@@.@.@...@......@@@.@@@.@.@..@@@@@@....@@@.@@@@@@..@.@@...@@..@.@@@..@@.@@@.@@@@@@.@@.@@@@.@@@.@@@.@.@@@@..@.@..@..@@.@
@@@.@@@@..@.@@...@@@@@.@.@..@@@@..@@.@@@@@@.@..@@@@@@@@@.@.@.@@..@.@.@@@@.@@@..@@@@@@@@@@@@@...@@.@...@@@@.@@.@@.@@.@@@@..@..@...@@.@@@.@.@
@@.@@@.@@.@..@.@@@.....@@@@@@.@@@@@..@@@@@@.@@@..@.@.@@@.@.@@.@..@.@.....@....@..@@@.@.@@.@@.@@.@@@..@.@.@@@..@@.@@..@@@@@@.@@@@@.@@@@@@@.@
@@@@@..@@@@@@@...@..@@@.@.@@@..@@.@..@.@@@.@..@@..@.@@@.@@@@.@..@@@@@@@@@@@@@@@@@.@.@@@....@.@....@@@@@..@@.@@.@@@@..@@@.@@@.@@@.@@@..@.@@.
.@.@..@.@@@@@.@@@@@@@@@@@@@@@@@@@@.@@..@@..@@@@@..@@@@.@@...@@@.@@..@@.@..@.@.@@.@@@@@@@@@@@.@@..@@@@..@@..@@.@.....@@@..@@.@@@@@.@.@..@@@@
.@@@@.@.@@@@..@@@@@@@@@@@@.@@@@@@@@@..@..@@@@@@@@@@@..@.@..@@.....@@@.@@@@.@@..@@.@@@.@..@.@@..@@@.@@@@.@@.@..@@...@.@@@..@.@@@@@@@@.@@@.@@
@..@@@@@@@@@..@@@.@@@@@@..@@.@...@@@@.@@.@@@@@@@@@.@.@....@@@@@@@@.@@.@..@@.....@@@@@@@@.@@..@.@@.@@.@@@@@..@@.@@.@@@..@@@@@@@@...@@...@.@@
@..@....@.@@@.@@.@@@.@.@@.@@@@.@@..@.@.@.@...@@@.@@@@@@..@.@.....@@.@@@..@...@@@.@.@@@...@@..@@@@@@@....@@@.@@@...@@@.@@@@@.@.@@@@@.@@@@@@@
@@...@@.@@@@@@@.@@@@..@@@@@.@.@.@@@.@.@@@@.@.@@@@@@.@@@@.@@@.@@@@@..@....@....@@@.@@@@@@@@@@...@.@@.@@..@.@@..@@@@.@@@.@@@@.@@@.@@@@@@@.@@@
@@@@.@@@...@@@@@....@@@..@@.@@@.@.@@@@.@.@@@..@@@@@.@@@@@..@@@@.@@...@..@@@.@..@@...@...@.@@@@@@@@...@.@..@@..@@.@@@@.@@@@@@.@@@@.@@..@.@@.
@@@@.@@.@@.@@.@@...@@.@@@@@.@.@@@.@@@...@@.@.@@@@@.@@@@.@@.@@...@.@...@@..@@..@@@@.@.@@@.@.@..@.@.@@@.@@..@.@.@@.@.@.@.@@@.@@@.@@@@@.@..@@@
...@@@@.@..@.@@@@@.@@@.@..@@@.@..@@.@.@...@..@.@.@.@@@@..@.@@.@.....@.@.@@@@@@.@.@.@.@@@@.@.@@.@@@@@@@@.@.@@@.@..@...@@@@.@.@@@@.@.@@.@@.@@
.@@@@.@.@@@@@.@@.@@@@@..@@.@.@@@....@@.@@@@.@@...@@.@@.@@....@@@@@@@@@@@.@@@.@.@@...@@@..@@.@.@.@@@@.@@@@@@@@..@@@@.@.@..@.@@@.@@..@..@@@.@
..@.@@.@@@@@@@.@@@..@@@@@.@@@.@@@@@@.@.@@@@@.@@.@.@@.@@@@@@@.@@@@.@@@@@@@@......@@@@@@@...@..@@@@@.@@@@.@..@@@@@@..@..@.@..@....@@@@@@@@...
@.@.......@@.@@.@.@.@@..@..@@...@@@@@@...@@@.@@@@...@@@.@@@@@.@.@.@.@@..@.@..@@@@@@@@@@@@@@@@@@@@@......@.@@@..@@..@@@..@.@.@@.@@@.@.@@..@@
@.@@.@@@.@@..@.@@@@@..@@.@.@@..@.@@.@@.@.@..@@@@@@.@@.@@@@@@.........@..@@....@.@@@@@@@@@@@.@@...@@@@@@@@..@..@@@..@...@.@.@.@.@@@@.@@@.@@.
@.@@@@@@@.@@.@@@.@@@@@.....@@@@.@.@..@...@..@@.@@@.@@.@@.@@...@.@..@@.@@@@@@@@.@@..@@@@@@@@@@.@@@.@@.@@@@@@@@@@.@..@@..@@.@@@.@@..@@@@.@@@.
@.@@..@.@@.@@@@.@@@..@.@@.@.@.@@@..@..@@@@.@.@@..@@@@@@@@@@@.@.@..@@@@..@@@@.@..@..@@...@..@.@@@.@@..@@.@...@@@.@@@@.@@@.@@@..@@..@..@.@.@@
..@@.@..@@@.@@@@..@@@@@@@.@.@.....@@@.@@@.@@..@@.@..@@.@@.@@.@@@@@@@@@@@..@@.@.@@@@@@@.@.@@@....@.@@.@@...@@@...@@.@@@@@.@.@@@@....@.@@@.@@
@@..@.@@.@@.@..@.@@@@@@@@.@.@@@@@@.@@.@@@@@.@@@@..@.@@@@...@@..@@@@@@@..@@@@@.@@@.@.@@@@@@@.@@......@..@@.@@.@..@@@@.@.@@@.@@@@@@@@@..@@@@@
.@@@@.@..@.@@@.@@@@@@.@.@@@@@@@@.@@@@.@.@.@.@@@.@@@@@@@@.@@@@.@@.@@@.@@@.@@.@@@@@@@..@@.@@@.@@.@@.@..@@@.@@@....@.@@@.@@@@@...@@@..@.@@@...
@@..@@@@@@@..@@@@@@@.@..@@.@.@@@..@..@@..@@@.@@@@@@@@@..@.@@@@.@@.@@@@....@.@@@@@@..@@@@.@@@@@@.@.@@.@@@.@.@@@....@@.@.@@..@@@@.@@@@@@@@.@@
.@..@@@@@.@@...@@@@@@@.....@@@.@@@.@.@@@@@@@.@@...@@@@......@@.@..@@@@@.@@.@.@@@@@@.@@@@@@@@.@.@@@@@@..@@@.@@.@@@@..@.@....@@@@..@@.@.@@@.@
@@@@@@.@@@.@@@..@@@@.@.@@.@@@@@.@@.@@@@@.@......@@.@@.@@@.@...@.@.@.@@@@...@.@@@@@.@@@@.@@..@@@@...@@..@.@..@@@.@.@.@@.@@@..@@..@@@.@.@....
@@..@@@..@@@.@@.@@@.@@.@@.@@.@@@@.@@@@@@.@@.@@..@@...@.@...@.@@@@.@.@@@@@..@.@@@.@.@@@.@.@@@@.@@@@@.@@@.@@@.@@@@@..@@.@.@.@@@...@@.@@.@@@@.
@.@@.@.@@@@...@@@@@..@@@..@@@.@@..@.@@.@.@@@@@@@.@.@@@@@.@@..@@..@@@@@.@@@@@.@.@@.@@.@.@@@@@@@@@@@@.@@@.@.@.@@@.@.@@..@@@@@@@@@@.@...@....@
.@@.@@..@@.....@@@@@@..@@....@.@@@@@@@@@@@.@.@@@.@.@@.@..@@.@@@@@@..@..@@@.@@.@@.@.@@@@@.@.@.@.@..@..@..@@@@@@@@@.@@@@@.@@@@@@@@@@@@@@@@@@@
@@..@@@@.@..@@@@@@@@.@@@@@.@..@@..@@@..@@@@@...@@..@@@.@.@@@@.@@....@.@@@@@.@.@@..@@.@@.@...@@.@.@...@@@@@@@@@@@.@@@@@@@.@@@@.@@@...@...@@@
.@.@@@.@@@..@@.@@.@@@@.@@@.@@@.@.@.@.@@.@@@@@.....@@.@@....@..@...@@..@@@.@.@@@.@@.@@@@@@@@.@.@@@@@.....@@@.@@.@.@@.....@@@@@....@@@@.@@..@
@.@@.@.@.@@@@@.@@@@@@.@@@.@.@.@..@@.@@@@..@@@.@@....@..@@.@@.@@@@.@@.@@@@.@.@@@@@@@.@@@..@@..@@.@..@@@.@.@@....@@...@@@@..@@.@@@..@.@@...@@
...@..@..@@@..@.@@@@@@@@@@@.@@@.@@.@@@@@@@@.@.@..@.@@@.@@@@@@@.@@@@@@.@...@..@@@..@@@@..@@@@@@.@@@@.@@.@..@@@@@......@@.@@@@@.@.@.@.@@@@@.@
.@@@.@.@@@.@@@@.@@@..@.@@...@.@@.@@.@@...@@@@@.@.@@@.@@@..@@..@..@@@@@@@@.@..@..@..@@.@...@@@.@.@..@@@@.@@...@.@@.@@.@...@.@@@.@@@@@..@..@@
.@@@@@@..@@@@@@@.@@@@.@@.@@.@@.@@@@@@@@@.@@@@.@.@..@..@@@@.@.@.@@..@@@@@@@@@.@.@..@@@@@.@@@@@.@.@@@@@@@@@@@@@@@@.@.@@.@.@@@..@@@.@@@@@.@.@.
..@@....@..@@@...@@.@@@.@.@@@.@...@.@..@.@@.@.@..@@@.@..@.@@@.@.@@@@...@@@@@.@@.@@.@.@@@@...@@@.@@@@..@.@@@@@@@@@.@@@.@@@@@.@@@@@.@.@...@.@
.@@@.@@@@@.@.@@@@@@@@@@@@@@.@@@@...@..@@.@@.@@@.@@...@@.@..@.@.@@..@.@@@@@@@@.@@@.@@@@.@@@.@.@@@.@@..@..@.@@.@@.@@@@.@@.@@@@@.....@.@..@@@@
..@.@@.@@..@.@@@@@..@@@@..@.@@@@@.@@.@@@@.@@..@@@.@.@@@@@.@@@..@..@@@@@@.@@@@@@@@@@@@...@@@@@@@@.@..@@@@@@@@@......@@@...@@.@.@.@..@@@.@...
..@@@.@.@@@@.@@.@.@.@.@@@@@.@...@@..@@@.@@...@@@@@@@@.@@.@@@.@..@@@@@..@@....@@.@@.@.@@.@@@.@@@@.@.@@@...@..@.@.@@.@@@.@@..@@.@@@.@.@..@@@@
.@..@@@.@@.@@.@@@@@@.@@.@@@.@.@@.@@..@.@.@@...@....@@@@@@...@.@@@.@.@@.@@...@.@@@..@.@@@@..@@.@.@@.@@@@.@@@.@.@@@@@.@@@..@@..@.@@......@...
.@.@.@@.@@@.@@@@.@..@.@..@.@@.@@@@.@@..@@.@@@@..@....@@..@@@@.@@@@@@.@@@@..@.@@..@@@@@@.@@.@@@@..@@@..@@.@@@@@..@@@....@.@@@@@@@@@@@...@..@
@@@@.@@@@@@@@@@@@@@@.@.@.@.@@.@.@@@.@@@@.@@@@@@@@@.@@@@@@.@@@.@@@@@@@@.@@@.@@@@.@@@@.@@.@@@@@.@..@@..@@@@.@@.@...@@.@@..@.@@@.@.@..@..@..@.
@.@.@.@..@.@@@@.@.@@.@@.@@.@@@...@@@..@..@..@.@....@@@.@.@..@...@..@.@.@@.@@@..@@@.@.@.@..@@@@@@...@@@@@@@@@...@@.@@@@.@@.@@.@@.@@..@.@@@.@
@.@@.......@@.@@@@@@@@@@.@@@@@..@.@@@@@@@@.@@...@.@@..@@@.@@@@@@@@@@@@.@@.@.@@@@....@@@@@@.@.@@@@@@@...@@..@@@@@..@@@@..@@@@.@@@.@@.@@@@@.@
@@@.@.@.@@.@@@@@.@@@@....@@@...@.@@.@.@.@.@@.@@@...@@.@.@@@@.@@.@.@.@..@@@@@@@..@.@.@.@@.@@@@.@@@@...@@...@..@@@@..@..@@@@.@..@@@@..@@@@..@
@.@.@.@..@@@@.@@@..@@..@.@@@.@@@.@.@@..@@@@@@@@@@.@@@@@@@@.@@.@@@@@.....@.@.@@@.@@.@.@@@@@.@@.@..@@@.@@.@@@@@@@@.@..@.@@.....@@@@.@@@@@@.@@
..@@@@@@@@.@@....@.....@@@@.@@@@.@@.@..........@@@@@@...@@.@@@@@@@.@@...@@@..@@@@@.@@.@@@@@.@@.@@@@@@...@@@.@..@@@@....@.@@@...@@@@.@.@@.@@
@.@@..@@@@.@@...@@.@.@.@@@.@.@...@@@.@@@@.@@@.@@...@@@@..@@@..@..@@@@.@.@@@@@.@@..@..@@@..@@.@@@@@@@@@@@@@@@...@@......@@.@@...@@@@.@@@@@@@
@@@@.@@.@@@@@@@...@.@...@.@@@..@.@@@...@@...@..@.@.@.@@@@@@@@@@@@.@..@.@@@@@.@...@@.@@@.@@@@@@.@@@@....@..@@@..@.@..@.@.....@.@@@@..@@@....
@.@@.@@..@@@@@@@.@@.@@.@@@@@@@.@@.@.@@.@...@@.@@@@@@.@.@@..@@@@@@...@@@.@.@@@.@.@.@.@@@.@.@@@.@@.@@@@@.@@@@.@@.@@@@@@@.@@..@@@.@@.@@@@@@@@@
@..@.@@@@@@@@@@@.@..@..@@@@.@.@.@@.@@@@.@.@@..@@.@@.@@@.@@@@..@.@@.@@.@@.@.@@.@@@@@@..@...@@@@@@@.@@@.@@@@.@.@.@@.@@@@@@....@.@@@@..@@@...@
@@...@@.@.@@.@.@...@@..@@@@.@@..@.@@@@.@@..@@@@@@@..@@@...@.@..@@@.@..@.@@.@@@......@@@....@@@@@@@@@.@@...@@@.@@@@@@@..@@@@.@@.@.@@@...@@@@
@.@@@@@@@..@.@@.@.@@@.@@@@@@.@@@.@@@.@@@@@@@@@@@@.@@@@.@@@.@@.@@@@@@@@.@.@@@.@@@.@@.@@@@@@.@.@@....@@..@@.@@..@@@@@@.@.@..@@.@@@@.@@.@@@@..
@....@..@@@@...@.@....@.@.@@@...@@.@@.@.@@@@@@..@@.@@.@@..@@.@.@@@@@@.@@.@@.@@.@@@@@@@@@@@@.@.@@.@.@@@@@@@.@@@@@@@@@@@..@.@@.@@.@@@..@@.@@@
.@@@@@.@..@@...@.@.@@@@..@@.@@@@.@@@@....@.@@@.@@@.@@.@@@@@@@.@@.@@.@.@@..@@@@@.@..@.@@@..@@.@.@@@.@@..@.@@.@..@@@@@.@..@@@@.....@@@.@@@.@@
@@..@.@.@@@@.@.@@@.@.@..@@@@@@@..@@.@@@@@.@@..@@.@@..@.@.@.@..@..@@@@...@@@@@@@@@@@@@..@@@@@.@@@..@@@...@.@.@@..@@..@.@@@..@@@.@@@@.@...@@@
.@.@.@@@@@@..@@@@@@.@@@@.@@.@@@@@@@@@@@@@..@@@.@@@@@@...@@..@@@@@..@@@...@@@@@.@.@@@@@@..@..@@@@@....@@@.@@@..@@..@@@@@.@@...@@@@@.@@@.@@@@
.@.@...@@@@.@..@...@@@.@@...@@@@@@@@.@@@...@@@@.@.@...@@@@..@@@@@.@@.@@@.@@@@@.@.@..@@.@@@@..@@.@@@@@@@...@@.@.@@@..@@@@@@@@@@.@@@@@@.@.@.@
@.@@@@@@@.@@@@@.@..@@@@.@@@@@@...@.@@@@@@@@@@@@..@.@...@@@.@@@.@@.@@@@@@@@.@@.@@@@@..@@@.@@@@.@@@@@.@@..@.@@@.@@.@..@..@@@@.@@@@@@@@@.@.@.@
@.@@.@@@.@.@.@@.@@@@..@.@@@..@.@.@...@@..@@...@.@@@@@..@@.@.@@.@@@.@..@@@@.@@@.@..@@.@@@.@@@@@.@@.@@@@.@@@@@@@....@..@@@@@@@..@@@@@@@@@.@.@
.@@@@@.@.@@@..@..@@.@@@.@@@@@..@.@..@@.@@.@.@.@..@@@@.@..@@.@....@@@.@@@..@@@@@...@@@@...@@.@@@.@@..@@@@@@@@@.@@@@.@@..@@@..@@..@..@.@@@@.@
@@@.@@@@@@@..@@@@.@@.@@@@.@.@@.@..@@@@@..@.@@@..@@@.@@@@.@@.@@@@@@@@@@.@....@@@.@@@..@@.@@@@..@@@.@@@@@@@@@@...@.@.@@@@@@@@...@.@@@@.@...@@
@.@@@@@@.@.@@@@@.@@@@.@@.@@.@@@@@.@@@@@@@...@.@.@@@@.@.@.@@.@.@.@..@@.@.@@@.@@@@@.@.@@@@....@@@.@@@@@@..@...@.@@@.@@@@..@@.@@@..@@....@..@.
@.@..@@@@@.@@@@.@@.@@..@.@@...@@.@@@@@@.@......@@@.@...@.@@.@@.@@.@..@.@@.@.@@@@@@@..@@@@@@@.@...@@..@..@.@@@@.@@.@@.@.@@@.@@@@..@@@@@@@.@.
@@.@@@@@.@@@@@@.@@.@..@@@@@..@...@@@.@@@.@@.@@@@.@@.@@.@@@@@@@..@@@@..@@@@.@@@@@..@@@@..@@@@@@@@@@..@@@@@@@@..@.....@@@.@@.@@@.@@@@@@@@.@@@
.@.@.@@..@..@@.@.@@.@...@.@.@@@@.@@@.@.@@@@@@@...@@.@.@@.@.@@..@.@@@.@@@@@@@.@....@.@.@..@@.@..@.@.@..@@@.@.@@@@@....@.@@..@@@@..@@@@@@@@@@
.@.@@@.@.@.@.@@@@.@@.@@.@@@@.@@.@.@@@@.@@..@@@@@..@@@.@.@@@@.@@@@.@@@@@@..@@@@@.@@.@@@@@@@..@..@@@.@@@@@.@..@..@@.@@.@@..@@@@@.@@...@..@@@@
@@..@@.@@@@...@@@..@@.@@@@...@.@@@.@@.@.@.@@@@@@@@@@@@@@@@..@@..@@.@.@...@@@@...@@.@@@@@@@@@..@@..@@@.@@.@..@.@..@@@@.@@@.@@@...@@.@.@@...@
@@@..@@.@@.@...@.@@.@.@.@@@..@@.@@..@@@..@.@@.@.@.@@@@.@@@@.@@.@.@@@@@.@@.@@@@.@.@@@@@.@@.@@.@@.@@.@@..@@@.@.@@@.@@@.@.@@@.@@..@@@@@.@.@..@
@@@@..@@@@@.@@@@...@@@@@..@.@@@.@@@@@@.@..@@@@@@@.@.@@@@.@.@..@@@@.@@@.@.@@@@@@@@@@.@.@@@.@.@.@@...@@.@.@@@@.@@.@.@..@@@@.@@@@@@@.@.@.@.@@@
@@@@@@.@@@@@.@.@.@@...@@@.@.@@@.@@.@@@@.@@@.@.@@@@@@.@@@@@.@@@@@.@@@.@.@@@@@..@@@@@@@.@@.@.@@@.@@..@@.@@@@@.@...@..@..@@.@.@@@@@@@.@@@@@@@@
@@@@@..@.@@@..@.@..@@@.@@@@.@.@@@@@@@@@.@@@@.@@.@...@...@@@@.@@.@.@@..@..@@@.@@@@@@....@@@@@..@.@@@@@.@.@...@@..@@@@@.@@.@..@.@.@@.@@@@...@
.@@.@@@@..@.@.@.@@.@@.@..@@@@@@@.@@..@@@..@.@@..@@@@@@@@@@@.@@@.@@.@....@@@@.@.@.@.@@@.@...@.@@@@@..@.@@......@@.@@@@..@.@.@.@@@...@@@@@@.@
.@@@@@@.@@@@.@@@..@...@..@.@@@@.@@..@..@.@.@@..@.@@@..@.@@.@...@.@@..@.@....@.@@@..@@@.@.@.@@@@@@@@@.@.@@.@@@.@@..@@@@.@.@.@.@.@.@@@.@@.@@.
...@.@@@@@@.@@@@@@.@@..@@...@@.@@@.@@@@.@.@@@.@.@@@@@@@.@@@@@@@@@...@@.@.@@....@..@.@.@@.@@@@@@@@@@.@@@@.@@@@.....@..@@...@@...@@@@@@@@@.@.
.@@@@@..@@@@@@@..@@.@@@@@@@@@@@@@@.@@@.....@..@@.@.@@@@@@..@@@@@@@.@.@..@.@@.@@@@@.@.@@@@@@@@@@@@@..@.@@...@.@@.@@.@@.@@@....@@@@@.@@@@@@.@
@.@@@.@@.@@@@@@@..@@..@@@@@.@@@@.@@@.@@.@@@...@@@@@.@@.@@@.@.@@@@.@@@@@.@.@@@@...@@@@@..@@@@@@@@@@..@@@@@@..@@@@...@@.@..@..@..@.@.@.@@@@@@
.@@@..@..@@..@@@.@@@@@@@..@@@@.@.@@@@..@@.@@.@@@@@@@@@@@@@..@@@@.@.@@@@@@@@@@..@@@.@@..@.@....@.@@@@@@@@@.@@@@@@@@.@@@@@@@@....@@.@@.@@...@
@@@.@@@@@@@@@@@.@@@@.@@@@.@.@@@.@.@.@.@@@.@...@@@@.@@@..@.@.@@@.@@@.@@.@@@@@.@.@@@@@.@@.@@@@..@@@.@@@@@@@.@.@@.@.@..@.@.@.@.@@.@@@@@...@@@.
@.@@@.@@..@.@@@.@@@@@@@@@@@..@.@...@@@@.@@@@.@@@..@@@@@@@@.@@@.@..@@@@.@@@@@@@@..@@@@@@@@@@.@@...@.@@.@@@@@@.@..@.@@@@.@@@@.@.@@@@@@@@@@.@.
@.@..@@.@@@@.@..@@.@.@@@@@@@@@.@@@@@.@.@.@.....@.@....@@@..@.@@.@@@@..@...@.@@.@@.@@.@@.@@..@@@..@@...@@.@@@@..@@@@@@...@@@@@.@@@@@@..@@@@.
@@@.@@@@@@.@.@@..@@@@@.@@@@..@@@.@@.@.@@@@..@.....@@.@@@@...@@.@@..@@.@@@@@@@@.@@@@@@@@@.@.@@@.@..@@@@@...@@.@...@@..@..@@@@.@.@@@@@..@....
@@@@..@@@@.@@@@@@@@@....@.@@.@@@..@@@.@@.@@@@@@@..@@@@@..@@@@..@@@@@@..@@@@.@.....@@@@.@@@.@..@@.@@.@@..@@.@@@@.@@@..@@.@....@@@@@@@@.@@@@@
@@....@..@@.@.@@@.@@@.@@...@@@.@.@@..@@.@@@@@@.@@@..@@@@..@..@@@..@@@.@..@@@@.@.@.@@@...@.@@@.@@.@@.@@..@.@@@.@..@.@.@..@@@@.@@@.@.@@..@@..
@..@@@@.@@@@...@@@@@@@@@@....@@@@@@@..@@.@@@@@@.@@@..@@.@.@....@@.@@.@@@.@.@.@@....@@@@@.@...@.@.@@...@..@@@@@.@.@@@@@@.@....@@..@@@@.@..@@
@@@@@@@.@@.@@@@.@.@@@@....@@@@.@@@@@@@..@@@@@.@@@@@@@@@@.@.@@.@.@@.@@@@@@.@@@@@@@@@.@....@@@.@@@@@.@.@@@.@@.@@@@@@@@..@@..@.@..@.@@@@@@@@@.
@@@..@@.@..@@.@@@..@@@@.@..@....@.@@.@@.@@@.@.@.@.@@.@@@.@@.@..@..@.@@@@@@@..@@.@....@@.@@.@@@@@@@.@@..@.@@@@.@@..@@@.@@.@@@..@@..@@..@.@.@
.@@.@@.@@.@@@@@@@@.@@@@@@@@@@.@.@@@@@@.@@.@..@@..@@..@@.@@@.@..@@@@@@@@.@@.@...@@@..@...@.@.@@.@....@@@@@@@@@@.@@@.@.@@@@@.@.@@@..@@...@@.@
@.@.@@.@.@.@@@.@@@@@.@.@.@.@@....@@@.@@...@@.@@@.@@@......@@@.@@@...@@.@@@.@@@@@@.@@@....@@@@@.@...@.@..@@..@.@.@@.@@..@@@@@@@@@@@.@..@@@.@
@..@@@@.@.@@@@.@.@@..@@@@@@@@@.@..@.@@@@.@@.@@@@.@.@@@@@.@@.@@@.@@@.@@@@@@.@...@...@.@.@.@@@..@@@@.@..@@@@.@@....@@@@@@.@@@@.@@.@@@.@@@@.@.
.@..@@.@@@@@@@@@@@@..@.@@@@.@@@@@.@.@@@..@@@@.@.@@@.@...@@@.@@@.@@@@@....@@.@@@@@@@.@.@@@.@...@@@@@@.@.@@......@@@.@@@.@@@.@@.@@@@.@@@@@.@.
@@..@@@.@@@@.@@@@@.@.@@@@.@.@@@.@......@.@@@...@.@@@@.@.@.@.@..@@.@@..@@@@@...@..@@.@.@.@.@@@.@@@@@@..@@...@@@.@@@@.@....@@@..@@@@.@..@@@..
@..@.....@...@.@@.@.@@@@.@@@@@@@@@@@.@.@@@@@@@@@@.@@..@@@@@@.@.@@@...@@...@@.@@@...@..@@@.@@@@..@.@@@@.@.@.@@@.@@.@@@@@.....@.@..@@@@@@@@@.
@@.@@...@..@@@.@.@@@.@@@@@@@@..@@@.@.@@..@...@@@..@@..@.@@.@.@.@..@@.@@@.@@@.@.@@.@@@@@@.@@@@..@@@.@@@@.@.@.@@.@@@@@.@@@@.@.@@.@..@@..@@@.@
@..@@@.@@.@....@.@@@..@.@@@.@@@@@@@.@@.@@@@..@.@@.@.@@@@@@.@.@.@@.@..@@.@...@@.@@@....@@@.@@@..@@@.@.@@@@..@@@@@@...@@@..@..@@.@..@@@@@@.@@
..@@..@@.@@@@@.@.@.@@@@@@@@@@@@.@@@@.@@@@@.@@.@@.@....@@@@@@..@.@@@.@@@@@@@.@@...@@@@@.@@@@@.@@@@..@@@@@.@@.@@..@@@.@@.@..@.@@..@@....@@@..
@@@@@@@@....@..@.@..@@@@@@.@@@@@@@.@@@@@.@..@@.@@@.@.@@@@@..@.@@.@@@@..@.@@@.@.@@.@.@@.@@@...@.@@.@.@..@@@.@@.@@.@..@@.@@...@@@.@@@.@@@@@.@
@@@@@@..@@.@@.@@.@@@@@@.@.@@.@@..@.@@.@@@.@.@@.@..@@@@@@.@...@@.@@@..@@@@@..@.@@@@@@@@@....@@@@@@.@.@@@@@@@@@.@..@.@@@@@@.@@@@..@.@@@..@...
@..@@..@@..@.@@.@..@.@@.@@@.@.@@@@@.@@@...@@@...@@@@@@..@@..@@@....@@@.@@@@..@.@@...@@.@@@@.@@.@@.@@@.@@.@..@.@.@@..@@..@@@@@@...@.@@@@@@@.
@@...@@@@..@...@@.@@@@@..@@..@@@@.@.@@.@..@@@@.@@@..@@.@@@.@@@@@...@...@.@.@@@@@.@@@@..@@.@@@@@@.@@.@.@@@@@@@.@@@.@..@.@....@@@@...@@@@@.@@
@@..@@@.@..@@@....@@.@@.@.@@@.@.@@@@.@.@@..@@@.@@.@.@@@@@.@@@@@@.@..@@@@@@..@@@@@@@@@.@@.@...@.@@.@@@.@@@@.@@@..@@@@@.@@@@@@@.@.@.@@.@@@.@@
@..@@@@.@.@@.@@@@....@@.@@@@@@.@@.@..@..@..@.@.@@@.@@@@@@@@..@@.@..@..@.@...@@@..@@@@.@@.@@@@@@.@@.@.@...@..@@@.@@.@@@@@.@@.@@.@@.@@@@@@@@@
@...@@...@@@@.@@.@.@@@@...@@.@.@@@@@@@@@@@.@@.@@..@@...@@@....@@...@..@.....@@@..@.@..@.@@@@@@.@.@@.@@@@@..@.@@@...@@.@..@@@@.@.@....@@.@@@
@@..@.@.@.@@@@@..@@.@@@.@@@@.@@.@..@.@@@@@@.@.@@.@@@....@@@@...@@@@...@.@....@...@.@@@@@.@@@..@.@@@@@@@.@...@@@@@..@@...@@...@@@.@@.@@@@@.@
@...@..@.@@@@@....@@@@@@.@@@@@@@@@.@.@..@.@.@.@@..@...@@.@@.@@@.@...@...@@@....@....@@@@@@.@@@@.@.@@..@@@.@@@@@@.@..@@@@@...@.@@@.@@@@@.@.@
@@..@@@..@.@.@.@@@@@@@..@@...@@@..@.@@.@@.@@.@@@@@@@..@@.@.@.@@.@@@.@@@@.@@@.@@.@@.@@..@@@@@@@..@.@@@@.@..@..@@@.@@@@@@@.@.@@..@@.....@@@.@
@@@@.@@@@@.@@@@@@.@.@.@@@....@...@@.@@@@@.@@@.@@@@@@@@...@@@@@@..@@@@...@@@.@@@@.@.....@@.@@...@.@.@.@@.@@@@@@@@@.@.@.@@.@@@@@@.@....@..@@@
@@@@@@@@@.@@.@@@.@@.@.@..@..@..@@.@@@@.@@...@.@.@@@.@...@@@@@@.@@@@@@@.@@..@@..@.@@@@@@@@@@.@@@...@@@@..@...@@@@@.@..@..@.@.@@@.@.@@@@@..@@
@@@..@@@@.@@@@@@.@@@.@@@.@..@@@@.@@.@.@...@.@@@@@.@@@@@@.@@@.@@@..@@@.@.@@@@..@@@@@.@@@.@..@@.@..@@@.@@@....@.@@@@@.@.@..@.@@.@@..@@@..@@@.
...@@.@.@@.@..@@@@.@@@@.@.@@@.@..@@@@.@.@@.@.@.@@@.@.@.@.@@@.@..@@.@@@@@.@@@@@..@@@.@@@...@@...@.@@.@@...@.@@@.@@..@@@.@.@@@@@.@.@@@@@....@
@@@@.@@.@@.@.@..@@@.@.@@.@@@@@@@@.@.@@@@@..@@.@.@@@...@@@@@@.@@.@@@..@.@@@@@@.@@@.@@..@@@.@...@.@..@@@@@.@.@@@@@...@@@@@..@@@@@@@@@.@@.@@.@
@@.@@.@.@..@@.@..@@@.@@@....@.@@@@..@..@@@...@@@@@.@..@.....@@.@@@@.@...@.......@.@@@@@...@@@@@@@@@.....@@@...@.@@..@@@@@@@.@.@@.@@...@@@@.
@@.@@@.@@@.@@@.@@.@.@@..@@@@@.@@@@.@.@.@.@@..@@@@@@@@.@@@@@.@@@..@@..@.@@@@@.@.@@@@.@@.@.@@.@@.@@@.@..@@.@@@.@@.@@@@@.@@@@.@@@@...@@@.@@@@.
@@.@@@@@@@@@.@@@.@@@.@@.@...@@@@@@@...@@@...@@.@.@.@..@@@..@@@@@@@@@....@@@@.@@@@@.@@@@@@.@@.@.@.@@@@.@@@@@@@@@@@.@...@.@@...@.@@@@.@.@@@@@
@@@.@@.@.@.@.@@@@@@.@@@@.@@@@@@.@@@@.@@..@@@@.@.@@@@..@@@..@.@@@@@@@...@@@@@.@@.@@.@@@@.@@.@@@@@..@.@.@.@.@@@@@@@@@..@...@@..@@@@@...@..@.@
@..@..@@@.@.@....@@@@@@...@@@.@.@@@..@@...@@@@@@.@@@.@@@@@@@.@@@@@.@..@@.@@@@@@@@..@@.@..@.@@.@.@@.@@@.@@.@@.@..@@@....@@@@@..@..@@@.@@..@@
@.@.@@@..@@@@@..@@@.@@@@.@@.@@@@@.@...@..@......@@..@.@@.@@@@@.@@.@@@@@.@@@.@@..@@....@@..@..@.@@@@.@@@...@@...@@@.@@@@@@@.@@.@.@@.@@.@@..@
@@@@@@@...@@...@.@@@@@.@.@.@@@@@.@@@..@..@@@@........@@@..@...@@@......@@..@@..@@@@..@@@@.@...@.@@@..@..@@..@@@@@@@@@@@@@@@@.@@.@@@@@.@@..@
@..@.@.@..@@@..@.@@@@..@...@..@.....@@@.@@@.@@.@@@@...@@@.@..@@.@@@@@..@@@..@.@@@.@@@@@@@@@@@....@.@...@@@@.@@.@@@@@@@@@...@@@.@@.@@@@@@.@@
@@@@@...@.@.@.@@.@.@@.@@@@..@@..@.@@@@.@@@.@@@.......@@@@.@..@@@..@...@.@@.@@@@@.@.@@@@@@...@@.@@.@...@@@...@.@@@.@.@.@@@@@@@@@@@@.@@@.@@.@
.@@..@@@@@@@@..@.@.@@@@@@..@@@@.@@@@...@.@@@@@.@.@@.@@@@..@.@@@@.@@@@@@@@.@@@@@@@.@.@@@@.@@@@.@@.@@@@.@@@.@.@@@@@@@@@@..@.@@@.@@@@@@.@@@@..
@@@.@@..@@@@@.@.@@@@@.@@@..@@.@.@@@@@.@..@..@@.@...@.@@@@@@....@..@.@.@@@@.@@.@@@@@...@.@@@@.@@..@@@..@.@..@@@@@@...@@.@@@@@.@.@.@..@@.@@@@
@@@@@@@@@...@@.@.@@@@@@@..@.@.@.@@@@@@.@@.@@..@@@.@.@@@@@.@.@@@@.@@@@@.@@..@@@@@@@@@@@@@.@@.@@@@@..@@.@@@.@..@@..@.@@.@..@@@@@@.@@..@@@@@.@
@@@.@...@...@......@@.@@@.@@@@.@@@.@@.@@..@@@.@@..@.@@@.@@@@@@..@@.@@@..@@.@@.@.@....@@@.@@@@@.@.@@@@.@.@..@..@@.@@@@@@@@@@@.@..@.@@.@@@...
..@..@@..@@@@@@@@@@@.@.@@....@@.@@@@@@@@@..@@.@.@@@.@.@@.@.@@@@@@@@@@@@.@@@@@.@@...@.@@@.@@@@@@@@@@@@.@.@@.@@@...@@@@@@@.@@@@@..@@@.@@@@@@.
@.@@@..@@@.@@.....@...@@@@@..@@@...@..@@@.@@@@.@@.@..@@..@@.@@@@@@@@@@@..@@..@..@@.@@.@....@@@.@@.@..@.@@@.@@.@.@@@@@@@.@@@@@.@@.@.@@@.@@.@
@@@@@@@@..@@..@@.@@@.@@.@.@@@.@@@@.@@.@@..@...@@@@..@.@@@..@@@..@@@.@.@@.@@@@@.@@.@.@@@@@.@@..@..@@@..@.....@..@.@.@@.@...@@@@@@@@.@...@@.@
@..@@@..@@.@.@@@@@@@@@@@.@@.@@@@.@.@@.@.@@@.@@.@@@.@..@.@@@@@@@@@@.@@..@..@@.@.@@@@@.@.@@..@@@@.@@..@.@@.@@@@@@@.@@@@@.@@@@.@@@@@.@@@@.@@.@
@@@@@@.@@.@@@@@@@@.@@@@@...@...@..@@@.@@@@@@.@@.@.@@@@.@@@@.@.@@.@.@@@....@@.@..@.@@@.@.@.@@@@@@.@@@.@@@....@@...@@@..@@@@.@@@@..@@@..@@...
.@@@@@.@...@@@@@.@@@@..@@.@....@@.@@.@..@@..@@@..@@@@@@@@@.@.@@@..@@@.@@@@@.@.@@@@..@@@....@.@.@@@.@@@.@@.@.@@@@@@@@.@.@@@....@@@@@@@.@@@@.
@@@.@@.@@..@@@.@@@@@@..@@@@@@@@..@@.@@@@...@.@..@@@@@.@@@@@@...@@@@@.@....@@@@@@.@.@@@@.@@@@@@.@@@@@@@.@.@@@@@@.@@@@.@.@@@.@@@..@@.@@@.@@.@
.@...@@@@.@@.@.@..@@..@@@@@@@.@....@..@......@@..@@.@@@@.@..@.@..@@@@@@..@@@@@@@@@@@.@@.....@@.@@..@@@@@.@@@@.@@@.@@@@.@@@.@@@@@.@@@@@@.@@@
@@@.@@.@.@@@@@@..@...@.@@.@@@.@@.@.@@.@@.@@.@@@@@@@@@@.@@@@@@.@@..@@.@@.@...@@.@@@@.@.@..@@@@.@@.@@.@@@@@@@@...@@@@....@@@@@@@@@.@@.@@@.@@@
.@@@..@.@@@@@@@@@..@@@@@@@@.@@@@@@.@@....@@.@..@@@@@@@@@@@@@.@.@@@.@.@@@..@@@@.@@..@@@@@@..@.@@@@.@@@@...@@..@..@@..@@@@@.@.....@.@...@.@@.
@..@@@@.@..@@@@.@@@.@@..@@@@@...@@@@@@.@.@.@@@@@@@.@@@@@@...@@.@..@..@.@.@..@..@.@@@@@@@@@@@@@.@@.@..@@@@@.@@@@.@@@@@.@.....@@@.@.@@@@@@@@.
@@.@..@@..@@@.@....@.@.@@..@.@.@@@@@.@.@..@@..@@@@@@@.@....@@@..@..@..@..@@@.@@.@@@.@..@.@@@..@@@@@.@@@@@.@....@@@@@@@@.@..@.@.@@@.@.@@@.@.
@.@@.@@@@@.@@@.@.@@@@@.@@.@.@..@@.@@.@.@.@.@.@..@@@@.@@@.@@@@..@@@..@@.@...@@.@@.@@@.....@@@.@@@@@@@@....@@..@@@@@.@@.@@..@.@@@..@@@@..@.@@
.@@@@@@@.@@@..@...@....@@@@..@@@..@.@@.@@@@@..@@@.@@@.@@.@.@.@@.@@.@..@@.@..@@@@.@@.@@....@@@@@@..@@@...@@.@@@@.@@@@.@@@.@.@.@@.@@@@@@.@.@.
.@@.@@@@@@@@@@@@@.@..@..@@@.@@.@@@.@@@@@.@..@@.@@@.@@.@@@..@@.@.@@..@@...@@.@@@.@@@.....@..@@@...@@@@.@@@@.@@@@@@.@@.@@@@..@@@@@@@.@@@@@.@@
.@..@@@@@@@@@@@@@@.@.@@@@@@@@..@@.@@@@@@@@@@..@.....@@..@@@@.@@@.@@@..@@...@.@..@@.@@..@@.@@.@.@.@@@..@@.@@..@.@@@.@@.@.@.@@.@@@@....@@.@.@
"""
}
